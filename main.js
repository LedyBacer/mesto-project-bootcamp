(()=>{"use strict";var e,t=document.querySelector(".page"),n=t.querySelector(".card-elements__item-grid"),r=document.getElementById("card-template").content,o=t.querySelector(".profile"),c=o.querySelector(".profile__name"),a=o.querySelector(".profile__description"),s=o.querySelector(".profile__add-button"),l=o.querySelector(".profile__edit-button"),i=document.getElementById("add-popup"),d=document.forms["mesto-form"],u=document.getElementById("edit-popup"),m=document.forms["profile-form"],p=document.getElementById("image-popup"),f=p.querySelector(".popup__image"),_=p.querySelector(".popup__bottom-text"),g=t.querySelectorAll(".popup__close-button");function v(e){e.classList.add("popup_opened")}function y(e){e.classList.remove("popup_opened")}function k(e,t,n,o){var c=function(e,t){var n=r.querySelector(".card-elements__item").cloneNode(!0);return n.querySelector(".card-elements__item-text").textContent=e,n.querySelector(".card-elements__item-image").setAttribute("style","background-image:url('".concat(t,"')")),n.querySelector(".card-elements__item-like").addEventListener("click",(function(e){e.target.classList.toggle("card-elements__item-like_active")})),n.querySelector(".card-elements__item-trash").addEventListener("click",(function(e){e.target.closest(".card-elements__item").remove()})),n.querySelector(".card-elements__item-image").addEventListener("click",(function(e){var t,n;t=e.target.getAttribute("style").slice(22,-2),n=e.target.nextElementSibling.textContent,_.textContent=n,f.setAttribute("alt","Фото: ".concat(n)),f.setAttribute("src","".concat(t)),v(p)})),n}(e,t);"end"===o?n.append(c):n.prepend(c)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return k(e.name,e.link,n,"end")})),m.elements["form-name"].value=c.textContent,m.elements["form-about"].value=a.textContent,m.addEventListener("submit",(function(e){e.preventDefault(),c.textContent=e.target.elements["form-name"].value,a.textContent=e.target.elements["form-about"].value,y(u)})),e=function(e){k(e.name,e.link,n),y(i)},d.addEventListener("submit",(function(t){t.preventDefault(),e({name:t.target.elements.description.value,link:t.target.elements.url.value}),t.target.reset()})),g.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return y(t)})),t.addEventListener("mousedown",(function(e){e.target===t&&y(t)}))})),s.addEventListener("click",(function(){v(i)})),l.addEventListener("click",(function(){v(u)}))})();